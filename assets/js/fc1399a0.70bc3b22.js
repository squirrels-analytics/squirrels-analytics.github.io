"use strict";(self.webpackChunksquirrels_docs=self.webpackChunksquirrels_docs||[]).push([[6795],{9382:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>o,frontMatter:()=>d,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"docs/concepts/squirrels-yml","title":"About squirrels.yml","description":"The squirrels.yml file is the main configuration file for a Squirrels project. It defines the project\'s metadata, database connections, parameters, datasets, and other settings.","source":"@site/docs/docs/concepts/squirrels-yml.md","sourceDirName":"docs/concepts","slug":"/docs/concepts/squirrels-yml","permalink":"/docs/docs/concepts/squirrels-yml","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Project Structure","permalink":"/docs/docs/concepts/project"},"next":{"title":"Environment Variables","permalink":"/docs/docs/concepts/environment"}}');var i=t(4848),r=t(8453);const d={},c="About squirrels.yml",l={},a=[{value:"Basic Structure",id:"basic-structure",level:2},{value:"Configuration Sections",id:"configuration-sections",level:2},{value:"Project Variables",id:"project-variables",level:3},{value:"Packages",id:"packages",level:3},{value:"Connections",id:"connections",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Selection Test Sets",id:"selection-test-sets",level:3},{value:"Dataset Traits",id:"dataset-traits",level:3},{value:"Datasets",id:"datasets",level:3},{value:"Referencing Environment Variables",id:"referencing-environment-variables",level:2},{value:"Notes",id:"notes",level:2}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"about-squirrelsyml",children:"About squirrels.yml"})}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"squirrels.yml"})," file is the main configuration file for a Squirrels project. It defines the project's metadata, database connections, parameters, datasets, and other settings."]}),"\n",(0,i.jsxs)(s.p,{children:["You can create a sample ",(0,i.jsx)(s.code,{children:"squirrels.yml"})," file using the ",(0,i.jsx)(s.a,{href:"../../references/cli/get-file",children:"sqrl get-file"})," command (with a time-based suffix if the file already exists)."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"sqrl get-file squirrels.yml\n"})}),"\n",(0,i.jsxs)(s.p,{children:["See ",(0,i.jsx)(s.code,{children:"sqrl get-file squirrels.yml --help"})," for additional options (such as the sections to include or exclude from the file)."]}),"\n",(0,i.jsx)(s.h2,{id:"basic-structure",children:"Basic Structure"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"project_variables:\n  name: sample\n  label: Sample Project - Expenses\n  description: This is a sample squirrels project for analyzing expense transactions\n  major_version: 1\n\npackages:\n  - git: https://github.com/owner/repo.git\n    revision: v0.1.0\n    directory: custom_name\n\nconnections:\n  - name: default\n    label: SQLite Expenses Database\n    type: sqlalchemy\n    uri: sqlite:///path/to/database.db\n\ndataset_traits:\n  - name: show_details\n    default: false\n\ndatasets:\n  - name: dbview_dataset_example\n    label: Example Dataset from DBView Model\n    description: Aggregated expense transactions by month using dbview_example model\n    model: dbview_example\n    scope: public\n    parameters:\n      - start_date\n      - end_date\n      - min_filter\n      - max_filter\n    traits: {}\n    default_test_set: default\n\nselection_test_sets:\n  - name: no_auth_test1\n    datasets:\n      - dbview_dataset_example\n    parameters:\n      start_date: 2024-07-01\n  \n  - name: auth_test1\n    datasets:\n      - federate_dataset_example\n    user_attributes:\n      role: employee\n    parameters:\n      date_range: [2024-02-01,2024-12-01]\n"})}),"\n",(0,i.jsx)(s.h2,{id:"configuration-sections",children:"Configuration Sections"}),"\n",(0,i.jsx)(s.h3,{id:"project-variables",children:"Project Variables"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"project_variables"})," section defines basic metadata about your project:"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Field"}),(0,i.jsx)(s.th,{children:"Type"}),(0,i.jsx)(s.th,{children:"Required"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"name"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"Yes"}),(0,i.jsx)(s.td,{children:"The name of your project"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"label"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsxs)(s.td,{children:["A display name for your project. Defaults to ",(0,i.jsx)(s.code,{children:"name"})," if not specified"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"description"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{children:"A description of your project"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"major_version"})}),(0,i.jsx)(s.td,{children:"integer"}),(0,i.jsx)(s.td,{children:"Yes"}),(0,i.jsx)(s.td,{children:"The major version number of your project"})]})]})]}),"\n",(0,i.jsx)(s.h3,{id:"packages",children:"Packages"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"packages"})," section defines Git repositories to be used as dependencies as a list of objects. Each object has the following fields:"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Field"}),(0,i.jsx)(s.th,{children:"Type"}),(0,i.jsx)(s.th,{children:"Required"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"git"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"Yes"}),(0,i.jsx)(s.td,{children:"The Git repository URL"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"revision"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"Yes"}),(0,i.jsx)(s.td,{children:"The Git revision (tag, branch, or commit hash)"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"directory"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{children:"Custom directory name. Defaults to repository name"})]})]})]}),"\n",(0,i.jsxs)(s.p,{children:["See the ",(0,i.jsx)(s.a,{href:"../../references/cli/deps",children:"sqrl deps"})," page for more information on loading packages."]}),"\n",(0,i.jsx)(s.h3,{id:"connections",children:"Connections"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"connections"})," section defines database connections as a list of objects. Each object has the following fields:"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Field"}),(0,i.jsx)(s.th,{children:"Type"}),(0,i.jsx)(s.th,{children:"Required"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"name"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"Yes"}),(0,i.jsx)(s.td,{children:"Unique identifier for the connection"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"label"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsxs)(s.td,{children:["Display name for the connection. Defaults to ",(0,i.jsx)(s.code,{children:"name"})," if not specified"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"type"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"Yes"}),(0,i.jsxs)(s.td,{children:["Connection type: ",(0,i.jsx)(s.code,{children:"sqlalchemy"}),", ",(0,i.jsx)(s.code,{children:"connectorx"}),", or ",(0,i.jsx)(s.code,{children:"adbc"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"uri"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"Yes"}),(0,i.jsx)(s.td,{children:"Database connection URI"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"sa_create_engine_args"})}),(0,i.jsx)(s.td,{children:"object"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{children:"Additional arguments for SQLAlchemy engine creation"})]})]})]}),"\n",(0,i.jsxs)(s.p,{children:["Connections can also be defined in the ",(0,i.jsx)(s.code,{children:"pyconfigs/connections.py"})," file. See the ",(0,i.jsx)(s.a,{href:"./connections",children:"Connections"})," page for more information."]}),"\n",(0,i.jsx)(s.h3,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"parameters"})," section defines widget parameters for datasets as a list of objects. Each object has the following fields:"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Field"}),(0,i.jsx)(s.th,{children:"Type"}),(0,i.jsx)(s.th,{children:"Required"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"type"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"Yes"}),(0,i.jsxs)(s.td,{children:["Parameter type (e.g., ",(0,i.jsx)(s.code,{children:"SingleSelectParameter"}),")"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"factory"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"Yes"}),(0,i.jsx)(s.td,{children:"Factory method to create the parameter"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"arguments"})}),(0,i.jsx)(s.td,{children:"object"}),(0,i.jsx)(s.td,{children:"Yes"}),(0,i.jsx)(s.td,{children:"Arguments for the factory method of the parameter type"})]})]})]}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"arguments"})," object is specific to the ",(0,i.jsx)(s.code,{children:"type"})," and ",(0,i.jsx)(s.code,{children:"factory"})," values. Parameters can also be defined in the ",(0,i.jsx)(s.code,{children:"pyconfigs/parameters.py"})," file (the preferred method). See the ",(0,i.jsx)(s.a,{href:"./parameters",children:"Widget Parameters"})," page for more information."]}),"\n",(0,i.jsx)(s.h3,{id:"selection-test-sets",children:"Selection Test Sets"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"selection_test_sets"})," section defines test configurations as a list of objects. Each object has the following fields:"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Field"}),(0,i.jsx)(s.th,{children:"Type"}),(0,i.jsx)(s.th,{children:"Required"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"name"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"Yes"}),(0,i.jsx)(s.td,{children:"Unique identifier for the test set"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"datasets"})}),(0,i.jsx)(s.td,{children:"array"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{children:"List of datasets this test set can be applied to"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"user_attributes"})}),(0,i.jsx)(s.td,{children:"object"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsxs)(s.td,{children:["User attributes for testing. Including this field (even if empty) means authentication is applied, which is needed for non-public datasets. The ",(0,i.jsx)(s.code,{children:"is_admin"})," attribute must be true to access private datasets"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"parameters"})}),(0,i.jsx)(s.td,{children:"object"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{children:"Default parameter values"})]})]})]}),"\n",(0,i.jsxs)(s.p,{children:["See the ",(0,i.jsx)(s.a,{href:"../../references/cli/compile",children:"sqrl compile"})," page for more information on using test sets."]}),"\n",(0,i.jsx)(s.h3,{id:"dataset-traits",children:"Dataset Traits"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"dataset_traits"})," section defines traits that can be applied to datasets as a list of objects. Each object has the following fields:"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Field"}),(0,i.jsx)(s.th,{children:"Type"}),(0,i.jsx)(s.th,{children:"Required"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"name"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"Yes"}),(0,i.jsx)(s.td,{children:"Unique identifier for the trait"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"default"})}),(0,i.jsx)(s.td,{children:"any"}),(0,i.jsx)(s.td,{children:"Yes"}),(0,i.jsx)(s.td,{children:"Default value for the trait"})]})]})]}),"\n",(0,i.jsxs)(s.p,{children:["If the name is not applied to the ",(0,i.jsx)(s.code,{children:"traits"})," field of a dataset, then the default value will be used."]}),"\n",(0,i.jsx)(s.h3,{id:"datasets",children:"Datasets"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"datasets"})," section defines the available datasets as a list of objects. Each object has the following fields:"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Field"}),(0,i.jsx)(s.th,{children:"Type"}),(0,i.jsx)(s.th,{children:"Required"}),(0,i.jsx)(s.th,{children:"Description"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"name"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"Yes"}),(0,i.jsx)(s.td,{children:"Unique identifier for the dataset"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"label"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsxs)(s.td,{children:["Display name. Defaults to ",(0,i.jsx)(s.code,{children:"name"})," if not specified"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"description"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{children:"Description of the dataset"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"model"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsxs)(s.td,{children:["Name of the model to use. Defaults to ",(0,i.jsx)(s.code,{children:"name"})," if not specified"]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"scope"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsxs)(s.td,{children:["Access scope: ",(0,i.jsx)(s.code,{children:"public"}),", ",(0,i.jsx)(s.code,{children:"protected"}),", or ",(0,i.jsx)(s.code,{children:"private"}),". Defaults to ",(0,i.jsx)(s.code,{children:"public"})]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"parameters"})}),(0,i.jsx)(s.td,{children:"array"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{children:"List of parameter names used by the dataset"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"traits"})}),(0,i.jsx)(s.td,{children:"object"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsx)(s.td,{children:"Dataset-specific trait values"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"default_test_set"})}),(0,i.jsx)(s.td,{children:"string"}),(0,i.jsx)(s.td,{children:"No"}),(0,i.jsxs)(s.td,{children:["Default test set to use for ",(0,i.jsx)(s.a,{href:"../../references/cli/compile",children:"sqrl compile"}),' if not specified by the command. Defaults to the "globally default" test set name (usually called ',(0,i.jsx)(s.code,{children:"default"}),")"]})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"referencing-environment-variables",children:"Referencing Environment Variables"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"squirrels.yml"})," file supports environment variable substitution using Jinja2 syntax:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-yaml",children:"connections:\n  default:\n    uri: {{ env_vars.DATABASE_URI }}\n"})}),"\n",(0,i.jsxs)(s.p,{children:["See the ",(0,i.jsx)(s.a,{href:"./environment",children:"Environment Variables"})," page for defining environment variables."]}),"\n",(0,i.jsx)(s.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"All names (packages, connections, parameters, test sets, traits, datasets) must be unique within their respective sections"}),"\n",(0,i.jsx)(s.li,{children:"Environment variables can be used for sensitive information"}),"\n",(0,i.jsxs)(s.li,{children:['The "globally default" test set name is defined by the ',(0,i.jsx)(s.code,{children:"SQRL_TEST_SETS__DEFAULT_NAME_USED"})," environment variable (usually called ",(0,i.jsx)(s.code,{children:"default"}),")"]}),"\n",(0,i.jsxs)(s.li,{children:["If a source or dbview model does not specify a connection, then the default connection used is configured by the ",(0,i.jsx)(s.code,{children:"SQRL_CONNECTIONS__DEFAULT_NAME_USED"})," environment variable (usually called ",(0,i.jsx)(s.code,{children:"default"}),")"]}),"\n",(0,i.jsxs)(s.li,{children:["Comments can be added using the ",(0,i.jsx)(s.code,{children:"#"})," symbol"]}),"\n"]})]})}function o(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>d,x:()=>c});var n=t(6540);const i={},r=n.createContext(i);function d(e){const s=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);
"use strict";(self.webpackChunksquirrels_docs=self.webpackChunksquirrels_docs||[]).push([[5339],{6393:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"references/python/auth/provider","title":"provider (decorator function)","description":"This is a decorator function that can be used to register new authentication providers (such as Google, GitHub, etc.) in [user.py]. The decorated function must return a [ProviderConfigs] object.","source":"@site/docs/references/python/auth/provider.md","sourceDirName":"references/python/auth","slug":"/references/python/auth/provider","permalink":"/docs/references/python/auth/provider","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"references","previous":{"title":"BaseUser (class)","permalink":"/docs/references/python/auth/BaseUser"},"next":{"title":"ProviderConfigs (class)","permalink":"/docs/references/python/auth/ProviderConfigs"}}');var s=n(4848),t=n(8453);const i={},c="provider (decorator function)",d={},l=[{value:"Required Arguments",id:"required-arguments",level:2},{value:"name",id:"name",level:3},{value:"label",id:"label",level:3},{value:"icon",id:"icon",level:3},{value:"Example",id:"example",level:2}];function a(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"provider-decorator-function",children:"provider (decorator function)"})}),"\n",(0,s.jsxs)(r.p,{children:["This is a decorator function that can be used to register new authentication providers (such as Google, GitHub, etc.) in ",(0,s.jsx)(r.a,{href:"../../../docs/concepts/user",children:"user.py"}),". The decorated function must return a ",(0,s.jsx)(r.a,{href:"./ProviderConfigs",children:"ProviderConfigs"})," object."]}),"\n",(0,s.jsxs)(r.p,{children:["Can be imported from the module ",(0,s.jsx)(r.code,{children:"squirrels.auth"})," or ",(0,s.jsx)(r.code,{children:"squirrels"}),"."]}),"\n",(0,s.jsx)(r.h2,{id:"required-arguments",children:"Required Arguments"}),"\n",(0,s.jsx)(r.h3,{id:"name",children:"name"}),"\n",(0,s.jsx)(r.p,{children:"The name of the provider (must be unique, e.g. 'google')"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Type:"})," ",(0,s.jsx)(r.code,{children:"str"})]}),"\n",(0,s.jsx)(r.h3,{id:"label",children:"label"}),"\n",(0,s.jsx)(r.p,{children:"The label of the provider (e.g. 'Google')"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Type:"})," ",(0,s.jsx)(r.code,{children:"str"})]}),"\n",(0,s.jsx)(r.h3,{id:"icon",children:"icon"}),"\n",(0,s.jsxs)(r.p,{children:["The URL of the icon of the provider (e.g. '",(0,s.jsx)(r.a,{href:"https://www.google.com/favicon.ico",children:"https://www.google.com/favicon.ico"}),"')"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Type:"})," ",(0,s.jsx)(r.code,{children:"str"})]}),"\n",(0,s.jsx)(r.h2,{id:"example",children:"Example"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'@provider(name=\'google\', label=\'Google\', icon=\'https://www.google.com/favicon.ico\')\ndef google_provider(sqrl: AuthProviderArgs) -> ProviderConfigs:\n\n    def get_sqrl_user(claims: dict) -> User:\n        return User(\n            username=claims["email"],\n            is_admin=False,\n            role="employee"\n        )\n\n    provider_configs = ProviderConfigs(\n        client_id=sqrl.env_vars["GOOGLE_CLIENT_ID"],\n        client_secret=sqrl.env_vars["GOOGLE_CLIENT_SECRET"],\n        server_metadata_url="https://accounts.google.com/.well-known/openid-configuration",\n        client_kwargs={"scope": "openid email profile"},\n        get_user=get_sqrl_user\n    )\n\n    return provider_configs\n'})})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>c});var o=n(6540);const s={},t=o.createContext(s);function i(e){const r=o.useContext(t);return o.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(t.Provider,{value:r},e.children)}}}]);
"use strict";(self.webpackChunksquirrels_docs=self.webpackChunksquirrels_docs||[]).push([[1686],{8169:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>o,contentTitle:()=>i,default:()=>c,frontMatter:()=>d,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"references/rest/datasets-dashboards","title":"Datasets and Dashboards","description":"The Datasets and Dashboards APIs provide access to the user-facing data and visualizations defined in the project. These endpoints allow you to retrieve parameter options and results for specific datasets and dashboards.","source":"@site/docs/references/rest/datasets-dashboards.md","sourceDirName":"references/rest","slug":"/references/rest/datasets-dashboards","permalink":"/docs/references/rest/datasets-dashboards","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"references","previous":{"title":"Data Management","permalink":"/docs/references/rest/data-management"},"next":{"title":"Working with Parameters","permalink":"/docs/references/rest/parameters"}}');var t=r(4848),a=r(8453);const d={},i="Datasets and Dashboards",o={},l=[{value:"Get Dataset Parameters \ud83d\udd12",id:"get-dataset-parameters-",level:2},{value:"Path Parameters",id:"path-parameters",level:3},{value:"Query Parameters",id:"query-parameters",level:3},{value:"Response",id:"response",level:3},{value:"POST Method (Alternative)",id:"post-method-alternative",level:3},{value:"Request",id:"request",level:3},{value:"Get Dataset Results \ud83d\udd12",id:"get-dataset-results-",level:2},{value:"Path Parameters",id:"path-parameters-1",level:3},{value:"Query Parameters",id:"query-parameters-1",level:3},{value:"Response",id:"response-1",level:3},{value:"POST Method (Alternative)",id:"post-method-alternative-1",level:3},{value:"Request",id:"request-1",level:3},{value:"Get Dashboard Parameters \ud83d\udd12",id:"get-dashboard-parameters-",level:2},{value:"Path Parameters",id:"path-parameters-2",level:4},{value:"Query Parameters",id:"query-parameters-2",level:3},{value:"Response",id:"response-2",level:3},{value:"POST Method (Alternative)",id:"post-method-alternative-2",level:3},{value:"Request",id:"request-2",level:3},{value:"Get Dashboard Results \ud83d\udd12",id:"get-dashboard-results-",level:2},{value:"Path Parameters",id:"path-parameters-3",level:3},{value:"Query Parameters",id:"query-parameters-3",level:3},{value:"Response",id:"response-3",level:3},{value:"POST Method (Alternative)",id:"post-method-alternative-3",level:3},{value:"Request",id:"request-3",level:3}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"datasets-and-dashboards",children:"Datasets and Dashboards"})}),"\n",(0,t.jsx)(s.p,{children:"The Datasets and Dashboards APIs provide access to the user-facing data and visualizations defined in the project. These endpoints allow you to retrieve parameter options and results for specific datasets and dashboards."}),"\n",(0,t.jsx)(s.h2,{id:"get-dataset-parameters-",children:"Get Dataset Parameters \ud83d\udd12"}),"\n",(0,t.jsx)(s.p,{children:"Get the available parameter options for a specific dataset. Parameter selections may cascade, meaning the selection of one parameter may affect the available options for other parameters."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Endpoint:"})," ",(0,t.jsx)(s.code,{children:"GET /api/squirrels-v0/project/{name}/{version}/datasets/{dataset}/parameters"})]}),"\n",(0,t.jsx)(s.h3,{id:"path-parameters",children:"Path Parameters"}),"\n",(0,t.jsx)(s.p,{children:"Each dataset configured in the project has one of these endpoints defined. Each of these endpoints may take a different set of query parameters."}),"\n",(0,t.jsx)(s.h3,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,t.jsx)(s.p,{children:"Any parameter name that is available for the dataset can be used as a query parameter to filter the options of other parameters."}),"\n",(0,t.jsxs)(s.p,{children:["See ",(0,t.jsx)(s.a,{href:"./parameters",children:"Working with Parameters"})," for more details."]}),"\n",(0,t.jsx)(s.h3,{id:"response",children:"Response"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Success Response (200 OK)"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n    "parameters": [\n        {\n            "widget_type": "single_select",\n            "name": "region",\n            "label": "Region",\n            "description": "Geographic region to filter by",\n            "options": [\n                {\n                    "id": "north",\n                    "label": "North"\n                },\n                {\n                    "id": "south",\n                    "label": "South"\n                }\n            ],\n            "trigger_refresh": true,\n            "selected_id": "north"\n        }\n    ]\n}\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Notes"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["If a parameter has ",(0,t.jsx)(s.code,{children:"trigger_refresh"})," as true, provide the parameter selection to this endpoint whenever it changes to refresh the parameter options of dependent parameters"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"post-method-alternative",children:"POST Method (Alternative)"}),"\n",(0,t.jsx)(s.p,{children:"You can also use POST method to submit parameter selections in the request body instead of query parameters:"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Endpoint:"})," ",(0,t.jsx)(s.code,{children:"POST /api/squirrels-v0/project/{name}/{version}/datasets/{dataset}/parameters"})]}),"\n",(0,t.jsx)(s.h3,{id:"request",children:"Request"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Content-Type:"})," ",(0,t.jsx)(s.code,{children:"application/json"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n    "region": "north"\n}\n'})}),"\n",(0,t.jsx)(s.p,{children:"The response format is the same as the GET method."}),"\n",(0,t.jsx)(s.h2,{id:"get-dataset-results-",children:"Get Dataset Results \ud83d\udd12"}),"\n",(0,t.jsx)(s.p,{children:"Get the results of a dataset with specified parameter selections."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Endpoint:"})," ",(0,t.jsx)(s.code,{children:"GET /api/squirrels-v0/project/{name}/{version}/datasets/{dataset}/results"})]}),"\n",(0,t.jsx)(s.h3,{id:"path-parameters-1",children:"Path Parameters"}),"\n",(0,t.jsx)(s.p,{children:"Each dataset configured in the project has one of these endpoints defined. Each of these endpoints may take a different set of query parameters."}),"\n",(0,t.jsx)(s.h3,{id:"query-parameters-1",children:"Query Parameters"}),"\n",(0,t.jsx)(s.p,{children:"Any parameter name that is available for the dataset can be used as a query parameter to filter the results."}),"\n",(0,t.jsxs)(s.p,{children:["In addition to widget parameters and ",(0,t.jsx)(s.code,{children:"x_verify_params"}),", the following built-in parameters are available:"]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Parameter"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Default"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"x_orientation"}),(0,t.jsx)(s.td,{children:"string"}),(0,t.jsx)(s.td,{children:'"records"'}),(0,t.jsx)(s.td,{children:'How to structure the response. Options: "records" (array of objects), "rows" (array of arrays), "columns" (object of arrays)'})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"x_select"}),(0,t.jsx)(s.td,{children:"array"}),(0,t.jsx)(s.td,{children:"[]"}),(0,t.jsx)(s.td,{children:"Array of column names to include in the result (empty means all columns)"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"x_limit"}),(0,t.jsx)(s.td,{children:"integer"}),(0,t.jsx)(s.td,{children:"1000"}),(0,t.jsx)(s.td,{children:"Maximum number of rows to return"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"x_offset"}),(0,t.jsx)(s.td,{children:"integer"}),(0,t.jsx)(s.td,{children:"0"}),(0,t.jsx)(s.td,{children:"Number of rows to skip"})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"response-1",children:"Response"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Success Response (200 OK)"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n    "schema": {\n        "fields": [\n            {\n                "name": "region",\n                "type": "string",\n                "description": "Geographic region",\n                "category": "dimension"\n            },\n            {\n                "name": "sales",\n                "type": "integer",\n                "description": "Total sales amount",\n                "category": "measure"\n            }\n        ]\n    },\n    "total_num_rows": 100,\n    "data_details": {\n        "num_rows": 10,\n        "orientation": "records"\n    },\n    "data": [\n        {\n            "region": "North",\n            "sales": 1234\n        },\n        {\n            "region": "South",\n            "sales": 5678\n        }\n    ]\n}\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Notes"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["The ",(0,t.jsx)(s.code,{children:"schema.fields"})," array describes each column in the result"]}),"\n",(0,t.jsxs)(s.li,{children:["The ",(0,t.jsx)(s.code,{children:"total_num_rows"})," is the total number of rows in the dataset before applying limit/offset"]}),"\n",(0,t.jsxs)(s.li,{children:["The ",(0,t.jsx)(s.code,{children:"data_details.num_rows"})," is the number of rows returned in this response"]}),"\n",(0,t.jsxs)(s.li,{children:["The ",(0,t.jsx)(s.code,{children:"data"})," format depends on the ",(0,t.jsx)(s.code,{children:"x_orientation"})," parameter:","\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:'"records" (default): An array of objects, each representing a row'}),"\n",(0,t.jsx)(s.li,{children:'"rows": An array of arrays, each representing a row\'s values'}),"\n",(0,t.jsx)(s.li,{children:'"columns": An object with column names as keys and arrays of values'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"post-method-alternative-1",children:"POST Method (Alternative)"}),"\n",(0,t.jsx)(s.p,{children:"You can also use POST method to submit parameter selections in the request body instead of query parameters:"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Endpoint:"})," ",(0,t.jsx)(s.code,{children:"POST /api/squirrels-v0/project/{name}/{version}/datasets/{dataset}/results"})]}),"\n",(0,t.jsx)(s.h3,{id:"request-1",children:"Request"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Content-Type:"})," ",(0,t.jsx)(s.code,{children:"application/json"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n    "region": "north",\n    "x_orientation": "records",\n    "x_limit": 10\n}\n'})}),"\n",(0,t.jsx)(s.p,{children:"The response format is the same as the GET method."}),"\n",(0,t.jsx)(s.h2,{id:"get-dashboard-parameters-",children:"Get Dashboard Parameters \ud83d\udd12"}),"\n",(0,t.jsx)(s.p,{children:"Get the available parameter options for a specific dashboard. Parameter selections may cascade, meaning the selection of one parameter may affect the available options for other parameters."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Endpoint:"})," ",(0,t.jsx)(s.code,{children:"GET /api/squirrels-v0/project/{name}/{version}/dashboards/{dashboard}/parameters"})]}),"\n",(0,t.jsx)(s.h4,{id:"path-parameters-2",children:"Path Parameters"}),"\n",(0,t.jsx)(s.p,{children:"Each dashboard configured in the project has one of these endpoints defined. Each of these endpoints may take a different set of query parameters."}),"\n",(0,t.jsx)(s.h3,{id:"query-parameters-2",children:"Query Parameters"}),"\n",(0,t.jsx)(s.p,{children:"Any parameter name that is available for the dashboard can be used as a query parameter to filter the options of other parameters."}),"\n",(0,t.jsxs)(s.p,{children:["See ",(0,t.jsx)(s.a,{href:"./parameters",children:"Working with Parameters"})," for more details."]}),"\n",(0,t.jsx)(s.h3,{id:"response-2",children:"Response"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Success Response (200 OK)"})}),"\n",(0,t.jsx)(s.p,{children:"The response format is identical to the dataset parameters endpoint."}),"\n",(0,t.jsx)(s.h3,{id:"post-method-alternative-2",children:"POST Method (Alternative)"}),"\n",(0,t.jsx)(s.p,{children:"You can also use POST method to submit parameter selections in the request body instead of query parameters:"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Endpoint:"})," ",(0,t.jsx)(s.code,{children:"POST /api/squirrels-v0/project/{name}/{version}/dashboards/{dashboard}/parameters"})]}),"\n",(0,t.jsx)(s.h3,{id:"request-2",children:"Request"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Content-Type:"})," ",(0,t.jsx)(s.code,{children:"application/json"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n    "date_range": ["2024-01-01", "2024-01-31"]\n}\n'})}),"\n",(0,t.jsx)(s.p,{children:"The response format is the same as the GET method."}),"\n",(0,t.jsx)(s.h2,{id:"get-dashboard-results-",children:"Get Dashboard Results \ud83d\udd12"}),"\n",(0,t.jsx)(s.p,{children:"Get the rendered dashboard with specified parameter selections."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Endpoint:"})," ",(0,t.jsx)(s.code,{children:"GET /api/squirrels-v0/project/{name}/{version}/dashboards/{dashboard}/results"})]}),"\n",(0,t.jsx)(s.h3,{id:"path-parameters-3",children:"Path Parameters"}),"\n",(0,t.jsx)(s.p,{children:"Each dashboard configured in the project has one of these endpoints defined. Each of these endpoints may take a different set of query parameters."}),"\n",(0,t.jsx)(s.h3,{id:"query-parameters-3",children:"Query Parameters"}),"\n",(0,t.jsx)(s.p,{children:"Any parameter name that is available for the dashboard can be used as a query parameter to filter the results."}),"\n",(0,t.jsx)(s.h3,{id:"response-3",children:"Response"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Success Response (200 OK)"})}),"\n",(0,t.jsx)(s.p,{children:"The response format depends on the dashboard's configured format:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"For HTML dashboards:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Content-Type:"})," ",(0,t.jsx)(s.code,{children:"text/html"})]}),"\n",(0,t.jsx)(s.li,{children:"Response body contains the HTML content of the dashboard"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"For PNG dashboards:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Content-Type:"})," ",(0,t.jsx)(s.code,{children:"image/png"})]}),"\n",(0,t.jsx)(s.li,{children:"Response body contains the PNG image of the dashboard"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"post-method-alternative-3",children:"POST Method (Alternative)"}),"\n",(0,t.jsx)(s.p,{children:"You can also use POST method to submit parameter selections in the request body instead of query parameters:"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Endpoint:"})," ",(0,t.jsx)(s.code,{children:"POST /api/squirrels-v0/project/{name}/{version}/dashboards/{dashboard}/results"})]}),"\n",(0,t.jsx)(s.h3,{id:"request-3",children:"Request"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Content-Type:"})," ",(0,t.jsx)(s.code,{children:"application/json"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n    "date_range": ["2024-01-01", "2024-01-31"],\n    "category": ["electronics", "books"]\n}\n'})}),"\n",(0,t.jsx)(s.p,{children:"The response format is the same as the GET method, depending on the dashboard type."})]})}function c(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>d,x:()=>i});var n=r(6540);const t={},a=n.createContext(t);function d(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);